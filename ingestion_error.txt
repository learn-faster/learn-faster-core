
--- ERROR at 2026-02-06 20:04:59.827458 ---
ERROR: Ingestion failed for document 2: DocumentProcessor.convert_to_markdown() takes 2 positional arguments but 3 were given
Traceback (most recent call last):
  File "D:\Opensource_repos\learn-faster-core\src\routers\documents.py", line 60, in process_document_background
    extracted_text, chunks = await document_processor.convert_to_markdown(file_path, doc_id)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: DocumentProcessor.convert_to_markdown() takes 2 positional arguments but 3 were given


--- ERROR at 2026-02-06 20:07:01.065852 ---
ERROR: Ingestion failed for document 2: Document processing failed: Cannot extract graph from empty content chunks
Traceback (most recent call last):
  File "D:\Opensource_repos\learn-faster-core\src\ingestion\ingestion_engine.py", line 407, in process_document_complete
    schema = await self.extract_graph_structure(final_chunks)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Opensource_repos\learn-faster-core\src\ingestion\ingestion_engine.py", line 196, in extract_graph_structure
    raise ValueError("Cannot extract graph from empty content chunks")
ValueError: Cannot extract graph from empty content chunks

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Opensource_repos\learn-faster-core\src\routers\documents.py", line 111, in process_document_background
    await ingestion_engine.process_document_complete(
  File "D:\Opensource_repos\learn-faster-core\src\ingestion\ingestion_engine.py", line 448, in process_document_complete
    raise ValueError(f"Document processing failed: {str(e)}") from e
ValueError: Document processing failed: Cannot extract graph from empty content chunks


--- ERROR at 2026-02-06 20:13:47.814224 ---
ERROR: Ingestion failed for document 2: Document processing failed: Graph data storage failed: Schema must contain at least one concept
Traceback (most recent call last):
  File "D:\Opensource_repos\learn-faster-core\src\ingestion\ingestion_engine.py", line 340, in store_graph_data
    result = graph_storage.store_graph_schema(schema, document_id)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Opensource_repos\learn-faster-core\src\database\graph_storage.py", line 321, in store_graph_schema
    raise ValueError("Schema must contain at least one concept")
ValueError: Schema must contain at least one concept

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Opensource_repos\learn-faster-core\src\ingestion\ingestion_engine.py", line 410, in process_document_complete
    self.store_graph_data(schema, document_id)
  File "D:\Opensource_repos\learn-faster-core\src\ingestion\ingestion_engine.py", line 346, in store_graph_data
    raise ValueError(f"Graph data storage failed: {str(e)}") from e
ValueError: Graph data storage failed: Schema must contain at least one concept

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Opensource_repos\learn-faster-core\src\routers\documents.py", line 112, in process_document_background
    await ingestion_engine.process_document_complete(
  File "D:\Opensource_repos\learn-faster-core\src\ingestion\ingestion_engine.py", line 448, in process_document_complete
    raise ValueError(f"Document processing failed: {str(e)}") from e
ValueError: Document processing failed: Graph data storage failed: Schema must contain at least one concept


--- ERROR at 2026-02-06 20:27:56.695224 ---
ERROR: Ingestion failed for document 2: Document processing failed: Vector data storage failed: Batch chunk storage failed: Embedding generation failed: Error code: 404 - {'error': {'message': 'model "embeddinggemma:latest" not found, try pulling it first', 'type': 'api_error', 'param': None, 'code': None}}
Traceback (most recent call last):
  File "D:\Opensource_repos\learn-faster-core\src\ingestion\vector_storage.py", line 53, in generate_embedding
    embedding = await llm_service.get_embedding(text)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Opensource_repos\learn-faster-core\src\services\llm_service.py", line 302, in get_embedding
    raise e
  File "D:\Opensource_repos\learn-faster-core\src\services\llm_service.py", line 294, in get_embedding
    response = await client.embeddings.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Opensource_repos\learn-faster-core\.venv\Lib\site-packages\openai\resources\embeddings.py", line 251, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "D:\Opensource_repos\learn-faster-core\.venv\Lib\site-packages\openai\_base_client.py", line 1881, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Opensource_repos\learn-faster-core\.venv\Lib\site-packages\openai\_base_client.py", line 1666, in request
    raise self._make_status_error_from_response(err.response) from None
openai.NotFoundError: Error code: 404 - {'error': {'message': 'model "embeddinggemma:latest" not found, try pulling it first', 'type': 'api_error', 'param': None, 'code': None}}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Opensource_repos\learn-faster-core\src\ingestion\vector_storage.py", line 139, in store_chunks_batch
    embedding = await self.generate_embedding(content)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Opensource_repos\learn-faster-core\src\ingestion\vector_storage.py", line 58, in generate_embedding
    raise ValueError(f"Embedding generation failed: {str(e)}") from e
ValueError: Embedding generation failed: Error code: 404 - {'error': {'message': 'model "embeddinggemma:latest" not found, try pulling it first', 'type': 'api_error', 'param': None, 'code': None}}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Opensource_repos\learn-faster-core\src\ingestion\ingestion_engine.py", line 386, in store_vector_data
    chunk_ids = await self.vector_storage.store_chunks_batch(batch_data)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Opensource_repos\learn-faster-core\src\ingestion\vector_storage.py", line 178, in store_chunks_batch
    raise ValueError(f"Batch chunk storage failed: {str(e)}") from e
ValueError: Batch chunk storage failed: Embedding generation failed: Error code: 404 - {'error': {'message': 'model "embeddinggemma:latest" not found, try pulling it first', 'type': 'api_error', 'param': None, 'code': None}}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Opensource_repos\learn-faster-core\src\ingestion\ingestion_engine.py", line 441, in process_document_complete
    chunk_ids = await self.store_vector_data(doc_source, final_chunks, chunk_tags, document_id)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Opensource_repos\learn-faster-core\src\ingestion\ingestion_engine.py", line 392, in store_vector_data
    raise ValueError(f"Vector data storage failed: {str(e)}") from e
ValueError: Vector data storage failed: Batch chunk storage failed: Embedding generation failed: Error code: 404 - {'error': {'message': 'model "embeddinggemma:latest" not found, try pulling it first', 'type': 'api_error', 'param': None, 'code': None}}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Opensource_repos\learn-faster-core\src\routers\documents.py", line 115, in process_document_background
    await ingestion_engine.process_document_complete(
  File "D:\Opensource_repos\learn-faster-core\src\ingestion\ingestion_engine.py", line 448, in process_document_complete
    raise ValueError(f"Document processing failed: {str(e)}") from e
ValueError: Document processing failed: Vector data storage failed: Batch chunk storage failed: Embedding generation failed: Error code: 404 - {'error': {'message': 'model "embeddinggemma:latest" not found, try pulling it first', 'type': 'api_error', 'param': None, 'code': None}}

